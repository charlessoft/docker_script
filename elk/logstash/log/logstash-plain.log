[2020-08-28T02:08:26,407][INFO ][logstash.setting.writabledirectory] Creating directory {:setting=>"path.queue", :path=>"/opt/logstash/data/queue"}
[2020-08-28T02:08:26,459][INFO ][logstash.setting.writabledirectory] Creating directory {:setting=>"path.dead_letter_queue", :path=>"/opt/logstash/data/dead_letter_queue"}
[2020-08-28T02:08:27,188][INFO ][logstash.runner          ] Starting Logstash {"logstash.version"=>"7.4.0"}
[2020-08-28T02:08:27,224][INFO ][logstash.agent           ] No persistent UUID file found. Generating new UUID {:uuid=>"b85e37f1-e168-481e-ae31-355ef14f78e6", :path=>"/opt/logstash/data/uuid"}
[2020-08-28T02:08:29,388][INFO ][org.reflections.Reflections] Reflections took 58 ms to scan 1 urls, producing 20 keys and 40 values 
[2020-08-28T02:08:30,421][INFO ][logstash.outputs.elasticsearch][main] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[http://localhost:9200/]}}
[2020-08-28T02:08:30,635][WARN ][logstash.outputs.elasticsearch][main] Restored connection to ES instance {:url=>"http://localhost:9200/"}
[2020-08-28T02:08:30,715][INFO ][logstash.outputs.elasticsearch][main] ES Output version determined {:es_version=>7}
[2020-08-28T02:08:30,717][WARN ][logstash.outputs.elasticsearch][main] Detected a 6.x and above cluster: the `type` event field won't be used to determine the document _type {:es_version=>7}
[2020-08-28T02:08:30,774][INFO ][logstash.outputs.elasticsearch][main] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>["//localhost"]}
[2020-08-28T02:08:30,935][INFO ][logstash.outputs.elasticsearch][main] Using default mapping template
[2020-08-28T02:08:30,947][WARN ][org.logstash.instrument.metrics.gauge.LazyDelegatingGauge][main] A gauge metric of an unknown type (org.jruby.specialized.RubyArrayOneObject) has been create for key: cluster_uuids. This may result in invalid serialization.  It is recommended to log an issue to the responsible developer/development team.
[2020-08-28T02:08:31,039][INFO ][logstash.javapipeline    ][main] Starting pipeline {:pipeline_id=>"main", "pipeline.workers"=>4, "pipeline.batch.size"=>125, "pipeline.batch.delay"=>50, "pipeline.max_inflight"=>500, :thread=>"#<Thread:0x2d2345ab run>"}
[2020-08-28T02:08:31,234][INFO ][logstash.outputs.elasticsearch][main] Attempting to install template {:manage_template=>{"index_patterns"=>"logstash-*", "version"=>60001, "settings"=>{"index.refresh_interval"=>"5s", "number_of_shards"=>1, "index.lifecycle.name"=>"logstash-policy", "index.lifecycle.rollover_alias"=>"logstash"}, "mappings"=>{"dynamic_templates"=>[{"message_field"=>{"path_match"=>"message", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false}}}, {"string_fields"=>{"match"=>"*", "match_mapping_type"=>"string", "mapping"=>{"type"=>"text", "norms"=>false, "fields"=>{"keyword"=>{"type"=>"keyword", "ignore_above"=>256}}}}}], "properties"=>{"@timestamp"=>{"type"=>"date"}, "@version"=>{"type"=>"keyword"}, "geoip"=>{"dynamic"=>true, "properties"=>{"ip"=>{"type"=>"ip"}, "location"=>{"type"=>"geo_point"}, "latitude"=>{"type"=>"half_float"}, "longitude"=>{"type"=>"half_float"}}}}}}}
[2020-08-28T02:08:31,281][INFO ][logstash.outputs.elasticsearch][main] Installing elasticsearch template to _template/logstash
[2020-08-28T02:08:31,600][INFO ][logstash.javapipeline    ][main] Pipeline started {"pipeline.id"=>"main"}
[2020-08-28T02:08:31,713][INFO ][logstash.inputs.tcp      ][main] Starting tcp input listener {:address=>"0.0.0.0:5044", :ssl_enable=>"false"}
[2020-08-28T02:08:31,873][INFO ][logstash.agent           ] Pipelines running {:count=>1, :running_pipelines=>[:main], :non_running_pipelines=>[]}
[2020-08-28T02:08:32,091][INFO ][logstash.outputs.elasticsearch][main] Creating rollover alias <logstash-{now/d}-000001>
[2020-08-28T02:08:32,644][INFO ][logstash.agent           ] Successfully started Logstash API endpoint {:port=>9600}
[2020-08-28T02:08:32,913][INFO ][logstash.outputs.elasticsearch][main] Installing ILM policy {"policy"=>{"phases"=>{"hot"=>{"actions"=>{"rollover"=>{"max_size"=>"50gb", "max_age"=>"30d"}}}}}} to _ilm/policy/logstash-policy
[2020-08-28T02:09:03,554][ERROR][logstash.codecs.json     ][main] JSON parse error, original data now in message field {:error=>#<LogStash::Json::ParserError: Unrecognized token 'PUT': was expecting ('true', 'false' or 'null')
 at [Source: (String)"PUT /test HTTP/1.1
User-Agent: curl/7.29.0
Host: 127.0.0.1:5044
Accept: */*
content-type: application/json
Content-Length: 53

{ "name" : "troy", "pwd" : "ä»å¤©åè¹æåäº " }"; line: 1, column: 4]>, :data=>"PUT /test HTTP/1.1\r\nUser-Agent: curl/7.29.0\r\nHost: 127.0.0.1:5044\r\nAccept: */*\r\ncontent-type: application/json\r\nContent-Length: 53\r\n\r\n{ \"name\" : \"troy\", \"pwd\" : \"今天发苹果吃了 \" }"}
[2020-08-28T02:09:21,638][ERROR][logstash.codecs.json     ][main] JSON parse error, original data now in message field {:error=>#<LogStash::Json::ParserError: Unrecognized token 'PUT': was expecting ('true', 'false' or 'null')
 at [Source: (String)"PUT /test HTTP/1.1
User-Agent: curl/7.29.0
Host: 127.0.0.1:5044
Accept: */*
content-type: application/json
Content-Length: 53

{ "name" : "troy", "pwd" : "ä»å¤©åè¹æè¥¿ç " }"; line: 1, column: 4]>, :data=>"PUT /test HTTP/1.1\r\nUser-Agent: curl/7.29.0\r\nHost: 127.0.0.1:5044\r\nAccept: */*\r\ncontent-type: application/json\r\nContent-Length: 53\r\n\r\n{ \"name\" : \"troy\", \"pwd\" : \"今天发苹果西瓜 \" }"}
[2020-08-28T02:18:27,285][ERROR][logstash.codecs.json     ][main] JSON parse error, original data now in message field {:error=>#<LogStash::Json::ParserError: Unexpected end-of-input in field name
 at [Source: (String)"{"host":"www.gosdwan.com","upstream_connect_time":"0.011","status":"200","bytes_sent":"59213","request_start_time":"2020-08-28 11:07:11","upstream_addr":"127.0.0.1:4443","headers":{"host":"www.gosdwan.com","connection":"keep-alive","sec-fetch-site":"cross-site","upgrade-insecure-requests":"1","cache-control":"max-age=0","sec-fetch-mode":"navigate","accept-encoding":"gzip, deflate, br","user-agent":"Mozilla\/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/8"[truncated 524 chars]; line: 1, column: 2049]>, :data=>"{\"host\":\"www.gosdwan.com\",\"upstream_connect_time\":\"0.011\",\"status\":\"200\",\"bytes_sent\":\"59213\",\"request_start_time\":\"2020-08-28 11:07:11\",\"upstream_addr\":\"127.0.0.1:4443\",\"headers\":{\"host\":\"www.gosdwan.com\",\"connection\":\"keep-alive\",\"sec-fetch-site\":\"cross-site\",\"upgrade-insecure-requests\":\"1\",\"cache-control\":\"max-age=0\",\"sec-fetch-mode\":\"navigate\",\"accept-encoding\":\"gzip, deflate, br\",\"user-agent\":\"Mozilla\\/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit\\/537.36 (KHTML, like Gecko) Chrome\\/84.0.4147.135 Safari\\/537.36\",\"cookie\":\"Hm_lvt_26256c2cf87138576b62e00b88ab282e=1597852483; Hm_lpvt_26256c2cf87138576b62e00b88ab282e=1598146799\",\"accept-language\":\"zh-CN,zh;q=0.9\",\"sec-fetch-dest\":\"document\",\"accept\":\"text\\/html,application\\/xhtml+xml,application\\/xml;q=0.9,image\\/webp,image\\/apng,*\\/*;q=0.8,application\\/signed-exchange;v=b3;q=0.9\"},\"log_type\":\"access_log\",\"query_string\":\"\",\"upstream_bytes_received\":\"59114\",\"request_time\":\"0.145\",\"upstream_status\":\"200\",\"method\":\"GET\",\"upstream_bytes_sent\":\"703\",\"upstre"}
[2020-08-28T02:18:27,288][ERROR][logstash.codecs.json     ][main] JSON parse error, original data now in message field {:error=>#<LogStash::Json::ParserError: Unrecognized token 'am_response_time': was expecting ('true', 'false' or 'null')
 at [Source: (String)"am_response_time":"0.142","access_info":"bypass_request","remote_addr":"34.92.163.44","version":"1.1","uuid":"eb0bbffc-27a1-44fd-9cd7-46c2dfb00dc2","uri":"\/","access_type":"jxcheck_protection","scheme":"https","body":"","xxf_addr":"34.92.163.44"}
"; line: 1, column: 17]>, :data=>"am_response_time\":\"0.142\",\"access_info\":\"bypass_request\",\"remote_addr\":\"34.92.163.44\",\"version\":\"1.1\",\"uuid\":\"eb0bbffc-27a1-44fd-9cd7-46c2dfb00dc2\",\"uri\":\"\\/\",\"access_type\":\"jxcheck_protection\",\"scheme\":\"https\",\"body\":\"\",\"xxf_addr\":\"34.92.163.44\"}\r\n"}
[2020-08-28T02:18:30,290][ERROR][logstash.codecs.json     ][main] JSON parse error, original data now in message field {:error=>#<LogStash::Json::ParserError: Unexpected end-of-input: was expecting closing quote for a string value
 at [Source: (String)"{"host":"www.gosdwan.com","upstream_connect_time":"0.010","status":"200","bytes_sent":"5189","request_start_time":"2020-08-28 11:07:13","upstream_addr":"127.0.0.1:4443","headers":{"host":"www.gosdwan.com","connection":"keep-alive","sec-fetch-site":"same-origin","sec-fetch-dest":"style","sec-fetch-mode":"no-cors","accept-encoding":"gzip, deflate, br","user-agent":"Mozilla\/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/84.0.4147.135 Safari\/537.36","cookie"[truncated 524 chars]; line: 1, column: 2049]>, :data=>"{\"host\":\"www.gosdwan.com\",\"upstream_connect_time\":\"0.010\",\"status\":\"200\",\"bytes_sent\":\"5189\",\"request_start_time\":\"2020-08-28 11:07:13\",\"upstream_addr\":\"127.0.0.1:4443\",\"headers\":{\"host\":\"www.gosdwan.com\",\"connection\":\"keep-alive\",\"sec-fetch-site\":\"same-origin\",\"sec-fetch-dest\":\"style\",\"sec-fetch-mode\":\"no-cors\",\"accept-encoding\":\"gzip, deflate, br\",\"user-agent\":\"Mozilla\\/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit\\/537.36 (KHTML, like Gecko) Chrome\\/84.0.4147.135 Safari\\/537.36\",\"cookie\":\"Hm_lvt_26256c2cf87138576b62e00b88ab282e=1597852483; Hm_lpvt_26256c2cf87138576b62e00b88ab282e=1598146799\",\"accept-language\":\"zh-CN,zh;q=0.9\",\"referer\":\"https:\\/\\/www.gosdwan.com\\/\",\"accept\":\"text\\/css,*\\/*;q=0.1\"},\"log_type\":\"access_log\",\"query_string\":\"v=52\",\"upstream_bytes_received\":\"5171\",\"request_time\":\"0.011\",\"upstream_status\":\"200\",\"method\":\"GET\",\"upstream_bytes_sent\":\"621\",\"upstream_response_time\":\"0.010\",\"access_info\":\"bypass_request\",\"remote_addr\":\"34.92.163.44\",\"version\":\"1.1\",\"uuid\":\"ed5d59bd-1c4b-4067-a88"}
[2020-08-28T02:18:30,291][ERROR][logstash.codecs.json     ][main] JSON parse error, original data now in message field {:error=>#<LogStash::Json::ParserError: Unexpected character ('-' (code 45)): Expected space separating root-level values
 at [Source: (String)"2-1614e8e4b1ad","uri":"\/themes\/xinhang\/public\/assets\/css\/common.css","access_type":"jxcheck_protection","scheme":"https","body":"","xxf_addr":"34.92.163.44"}
"; line: 1, column: 3]>, :data=>"2-1614e8e4b1ad\",\"uri\":\"\\/themes\\/xinhang\\/public\\/assets\\/css\\/common.css\",\"access_type\":\"jxcheck_protection\",\"scheme\":\"https\",\"body\":\"\",\"xxf_addr\":\"34.92.163.44\"}\r\n"}
[2020-08-28T02:18:31,814][ERROR][logstash.codecs.json     ][main] JSON parse error, original data now in message field {:error=>#<LogStash::Json::ParserError: Unrecognized token 'ike': was expecting ('true', 'false' or 'null')
 at [Source: (String)"ike Gecko) Chrome\/84.0.4147.135 Safari\/537.36","cookie":"Hm_lvt_26256c2cf87138576b62e00b88ab282e=1597852483; Hm_lpvt_26256c2cf87138576b62e00b88ab282e=1598146799","accept-language":"zh-CN,zh;q=0.9","referer":"https:\/\/www.gosdwan.com\/","accept":"image\/webp,image\/apng,image\/*,*\/*;q=0.8"},"log_type":"access_log","query_string":"","upstream_bytes_received":"95428","request_time":"0.013","upstream_status":"200","method":"GET","upstream_bytes_sent":"654","upstream_response_time":"0.008","acces"[truncated 280 chars]; line: 1, column: 4]>, :data=>"ike Gecko) Chrome\\/84.0.4147.135 Safari\\/537.36\",\"cookie\":\"Hm_lvt_26256c2cf87138576b62e00b88ab282e=1597852483; Hm_lpvt_26256c2cf87138576b62e00b88ab282e=1598146799\",\"accept-language\":\"zh-CN,zh;q=0.9\",\"referer\":\"https:\\/\\/www.gosdwan.com\\/\",\"accept\":\"image\\/webp,image\\/apng,image\\/*,*\\/*;q=0.8\"},\"log_type\":\"access_log\",\"query_string\":\"\",\"upstream_bytes_received\":\"95428\",\"request_time\":\"0.013\",\"upstream_status\":\"200\",\"method\":\"GET\",\"upstream_bytes_sent\":\"654\",\"upstream_response_time\":\"0.008\",\"access_info\":\"bypass_request\",\"remote_addr\":\"34.92.163.44\",\"version\":\"1.1\",\"uuid\":\"704ca682-e39c-4012-be75-04be6b1bc3f1\",\"uri\":\"\\/upload\\/default\\/20200512\\/56de5fa35eecd950ab56b81e3f8a71a8.jpg\",\"access_type\":\"jxcheck_protection\",\"scheme\":\"https\",\"body\":\"\",\"xxf_addr\":\"34.92.163.44\"}\r\n"}
[2020-08-28T02:18:37,635][ERROR][logstash.codecs.json     ][main] JSON parse error, original data now in message field {:error=>#<LogStash::Json::ParserError: Unrecognized token 'od': was expecting ('true', 'false' or 'null')
 at [Source: (String)"od":"GET","upstream_bytes_sent":"654","upstream_response_time":"0.009","access_info":"bypass_request","remote_addr":"34.92.163.44","version":"1.1","uuid":"65899359-f7de-4b11-b97b-16d60c42b5a0","uri":"\/upload\/default\/20200405\/7b19ee057d82776788dcbbeb3931faee.png","access_type":"jxcheck_protection","scheme":"https","body":"","xxf_addr":"34.92.163.44"}
"; line: 1, column: 3]>, :data=>"od\":\"GET\",\"upstream_bytes_sent\":\"654\",\"upstream_response_time\":\"0.009\",\"access_info\":\"bypass_request\",\"remote_addr\":\"34.92.163.44\",\"version\":\"1.1\",\"uuid\":\"65899359-f7de-4b11-b97b-16d60c42b5a0\",\"uri\":\"\\/upload\\/default\\/20200405\\/7b19ee057d82776788dcbbeb3931faee.png\",\"access_type\":\"jxcheck_protection\",\"scheme\":\"https\",\"body\":\"\",\"xxf_addr\":\"34.92.163.44\"}\r\n"}
